FROM alpine:3.21
RUN apk add --no-cache git openssh-client ca-certificates webhook
COPY scripts/vault-webhook/hooks.json /config/hooks.json
COPY scripts/vault-webhook/sync.sh /config/sync.sh
COPY scripts/vault-webhook/entrypoint.sh /entrypoint.sh
RUN chmod +x /config/sync.sh /entrypoint.sh
ENTRYPOINT ["/entrypoint.sh"]
